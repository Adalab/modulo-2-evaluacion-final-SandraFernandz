"use strict";const button=document.querySelector(".js_button"),givenInput=document.querySelector(".js_input"),ulList=document.querySelector(".js_ulList"),ulListFavs=document.querySelector(".js_ulList2");let series=[],favorites=[];function handleConnectTv(i){let e=givenInput.value.toLowerCase();fetch("https://api.tvmaze.com/search/shows?q="+e).then(i=>i.json()).then(i=>{console.log(i),series=i,console.log(series),paintSeries()})}function paintSeries(){let i="",e="";for(const t of series){e=isFavorite(t)?"main_ulList_container_li_title":"",i+=`<li class= 'listItem js_listItem main_ulList_container_li ${e}' id='${t.show.id}'>`,console.log(t.show.name),i+="<div main_ulList_container_li_div>",i+=`<h2>${t.show.name}</h2>`,t.show.image?i+=`<img src="${t.show.image.original}" class="main_ulList_container_li_img"/>`:i+='<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV" alt="image of series" class="main_ulList_container_li_img">',i+="</div>",i+="</li>"}ulList.innerHTML=i,console.log(i),listenListedSeries()}function listenListedSeries(){const i=document.querySelectorAll(".js_listItem");for(const e of i)e.addEventListener("click",handleList)}function handleList(i){const e=i.currentTarget.id;console.log(i.currentTarget.id);const t=series.find(i=>i.show.id===parseInt(e)),s=favorites.findIndex(i=>i.show.id===parseInt(e));-1===s?favorites.push(t):favorites.splice(s,1),console.log(favorites),paintSeries(),printFavoriteList(),console.log(e),console.log(s)}function isFavorite(i){return void 0!==favorites.find(e=>e.show.id===i.show.id)}function getFromApi(){}function getLocalStorage(){const i=localStorage.getItem("series");if(null===i)getFromApi();else{const e=JSON.parse(i);series=e}}function printFavoriteList(){let i="";for(const e of favorites)i+=`<li class= 'listItem js_listItem main_ulList_container_li' id='${e.show.id}'>`,i+=`<h2>${e.show.name}</h2>`,console.log(e.show.name),i+="<div main_ulList_container_li_div>",e.show.image?i+=`<img src="${e.show.image.original}" class="main_ulList_container_li_img" width="500" height="600"/>`:i+='<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV" alt="image of series" class="main_ulList_container_li_img"/>',i+="</div>",i+="</li>";console.log(i),ulListFavs.innerHTML=i}button.addEventListener("click",handleConnectTv);